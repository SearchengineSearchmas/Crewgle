<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crewgle</title>
    <style>
        :root { --g-blue: #4285F4; --g-red: #EA4335; --g-yellow: #FBBC05; --g-green: #34A853; }
        body, html { margin: 0; padding: 0; height: 100%; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; overflow: hidden; }
        
        /* Layout Containers */
        #home-screen { display: flex; flex-direction: column; align-items: center; justify-content: flex-start; height: 100vh; padding-top: 15vh; }
        #results-screen { display: none; height: 100vh; flex-direction: column; background: #f8f9fa; }

        /* Search Bar Global */
        .search-wrapper { width: 90%; max-width: 584px; position: relative; }
        .s-input { width: 100%; padding: 12px 20px; border-radius: 24px; border: 1px solid #dfe1e5; font-size: 16px; outline: none; transition: box-shadow 0.2s; }
        .s-input:focus { box-shadow: 0 1px 6px rgba(32,33,36,0.28); border-color: transparent; }

        /* Homepage specific */
        .big-logo { font-size: 6rem; font-weight: bold; margin-bottom: 25px; letter-spacing: -4px; }
        .big-logo span:nth-child(1) { color: var(--g-blue); }
        .big-logo span:nth-child(2) { color: var(--g-red); }
        .big-logo span:nth-child(3) { color: var(--g-yellow); }
        .big-logo span:nth-child(4) { color: var(--g-blue); }
        .big-logo span:nth-child(5) { color: var(--g-green); }
        .big-logo span:nth-child(6) { color: var(--g-red); }
        
        .news-feed { margin-top: 40px; width: 90%; max-width: 600px; height: 300px; border-top: 1px solid #eee; padding-top: 20px; overflow-y: auto; }

        /* Results Header */
        .header { display: flex; align-items: center; padding: 20px; background: #fff; border-bottom: 1px solid #dfe1e5; gap: 20px; }
        .small-logo { font-size: 1.5rem; font-weight: bold; cursor: pointer; }
        .small-logo span:nth-child(1) { color: var(--g-blue); }
        .tabs { display: flex; gap: 20px; padding: 10px 20px; background: #fff; border-bottom: 1px solid #dfe1e5; font-size: 14px; color: #70757a; }
        .tab { cursor: pointer; padding-bottom: 5px; }
        .tab.active { color: var(--g-blue); border-bottom: 3px solid var(--g-blue); }

        /* Engine Frames (Vertical Layout) */
        .engine-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 30px; }
        .engine-group { width: 100%; height: 500px; background: #fff; border-radius: 8px; border: 1px solid #dadce0; overflow: hidden; display: flex; flex-direction: column; }
        .engine-label { padding: 10px; font-weight: bold; background: #f1f3f4; border-bottom: 1px solid #dadce0; }
        iframe { flex: 1; border: none; width: 100%; }

        /* API Content Grids */
        #media-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; padding: 20px; overflow-y: auto; }
        .media-item { border-radius: 8px; width: 100%; height: 200px; object-fit: cover; }

        /* CREWMATE NAVIGATION */
        .crew-nav { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 30px; z-index: 9999; }
        .crew-btn { width: 45px; height: 60px; border: none; background: transparent; cursor: pointer; position: relative; transition: transform 0.2s; }
        .crew-btn:hover { transform: translateY(-5px); }
        .crew-body { width: 100%; height: 100%; border-radius: 12px 12px 4px 4px; border: 3px solid #000; position: relative; }
        .crew-visor { width: 28px; height: 14px; background: #83d5e6; border: 2px solid #000; border-radius: 6px; position: absolute; top: 10px; right: -4px; }
        .red-crew .crew-body { background: var(--g-red); }
        .blue-crew .crew-body { background: var(--g-blue); }
        .label { position: absolute; bottom: -18px; width: 100%; text-align: center; font-size: 9px; font-weight: bold; color: #555; }
    </style>
</head>
<body>

<div id="home-screen">
    <div class="big-logo"><span>C</span><span>r</span><span>e</span><span>w</span><span>g</span><span>l</span><span>e</span></div>
    <div class="search-wrapper">
        <input type="text" class="s-input" id="home-q" placeholder="Search Crewgle..." onkeypress="handleSearch(event)">
    </div>
    <div class="news-feed" id="google-news-feed">
        <h4 style="color:#555">Google News Feed</h4>
        <p style="font-size: 0.9rem; color: #777;">Loading global headlines...</p>
        <button onclick="window.open('https://news.google.com')" style="padding: 10px; cursor: pointer;">Open Google News</button>
    </div>
</div>

<div id="results-screen">
    <div class="header">
        <div class="small-logo" onclick="goHome()"><span>C</span><span>r</span><span>e</span><span>w</span><span>g</span><span>l</span><span>e</span></div>
        <div class="search-wrapper">
            <input type="text" class="s-input" id="result-q" onkeypress="handleSearch(event)">
        </div>
    </div>
    <div class="tabs">
        <div class="tab active" onclick="setTab('all')">All</div>
        <div class="tab" onclick="setTab('images')">Images</div>
        <div class="tab" onclick="setTab('videos')">Videos</div>
        <div class="tab" onclick="setTab('news')">News</div>
    </div>
    
    <div id="all-results" class="engine-container">
        <div class="engine-group"><div class="engine-label">Yahoo</div><iframe id="f-yahoo"></iframe></div>
        <div class="engine-group"><div class="engine-label">Google</div><iframe id="f-google"></iframe></div>
        <div class="engine-group"><div class="engine-label">Bing</div><iframe id="f-bing"></iframe></div>
        <div class="engine-group"><div class="engine-label">DuckDuckGo</div><iframe id="f-ddg"></iframe></div>
    </div>

    <div id="media-results" style="display:none; flex:1; overflow:hidden;">
        <div id="media-grid"></div>
    </div>

    <div id="news-tab" style="display:none; flex:1; align-items: center; justify-content: center; flex-direction: column;">
        <button style="padding:20px; font-size: 1.2rem; cursor:pointer;" onclick="window.open('https://news.google.com')">Go to Google News</button>
    </div>
</div>

<div class="crew-nav">
    <button class="crew-btn red-crew" onclick="goHome()">
        <div class="crew-body"><div class="crew-visor"></div></div>
        <div class="label">HOME</div>
    </button>
    <button class="crew-btn blue-crew" onclick="window.location.href='https://searchenginesearchmas.github.io/Searchmas'">
        <div class="crew-body"><div class="crew-visor"></div></div>
        <div class="label">SEARCHMAS</div>
    </button>
</div>

<script>
    const unsplashKey = 'Wsi2QpvPXyiNLfGRbZX8MwbDg7oqCQQFtibqIu02nWA';
    const youtubeKey = 'AIzaSyBKN7qNWVOSjIf040epQA579G29IzPxqpI';

    function handleSearch(e) {
        if (e.key === 'Enter') {
            const query = e.target.value;
            if (!query) return;
            document.getElementById('home-screen').style.display = 'none';
            document.getElementById('results-screen').style.display = 'flex';
            document.getElementById('result-q').value = query;
            setTab('all');
            loadAllEngines(query);
        }
    }

    function goHome() {
        document.getElementById('home-screen').style.display = 'flex';
        document.getElementById('results-screen').style.display = 'none';
        document.getElementById('home-q').value = '';
    }

    function setTab(type) {
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');

        document.getElementById('all-results').style.display = (type === 'all') ? 'flex' : 'none';
        document.getElementById('media-results').style.display = (type === 'images' || type === 'videos') ? 'flex' : 'none';
        document.getElementById('news-tab').style.display = (type === 'news') ? 'flex' : 'none';

        const query = document.getElementById('result-q').value;
        if (type === 'images') loadImages(query);
        if (type === 'videos') loadVideos(query);
    }

    function loadAllEngines(q) {
        document.getElementById('f-yahoo').src = `https://search.yahoo.com/search?p=${encodeURIComponent(q)}`;
        document.getElementById('f-google').src = `https://www.google.com/search?q=${encodeURIComponent(q)}&igu=1`;
        document.getElementById('f-bing').src = `https://www.bing.com/search?q=${encodeURIComponent(q)}`;
        document.getElementById('f-ddg').src = `https://duckduckgo.com/?q=${encodeURIComponent(q)}`;
    }

    async function loadImages(q) {
        const grid = document.getElementById('media-grid');
        grid.innerHTML = 'Loading Images...';
        const res = await fetch(`https://api.unsplash.com/search/photos?query=${q}&client_id=${unsplashKey}`);
        const data = await res.json();
        grid.innerHTML = data.results.map(img => `<img src="${img.urls.small}" class="media-item">`).join('');
    }

    async function loadVideos(q) {
        const grid = document.getElementById('media-grid');
        grid.innerHTML = 'Loading Videos...';
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${q}&type=video&key=${youtubeKey}`);
        const data = await res.json();
        grid.innerHTML = data.items.map(v => `
            <div style="background:#000; color:#fff; border-radius:8px; padding:10px;">
                <img src="${v.snippet.thumbnails.medium.url}" style="width:100%">
                <p style="font-size:12px">${v.snippet.title}</p>
            </div>
        `).join('');
    }
</script>
</body>
</html>
